lesson1/index.html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eラーニング：火災現場活動基礎知識</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&family=Shippori+Mincho:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        #quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            overflow: hidden;
        }

        #quiz-header {
            background: linear-gradient(135deg, #1c3d5a, #3a6a8a);
            color: #ffffff;
            padding: 30px 40px;
            text-align: center;
        }

        #quiz-header h1 {
            font-family: 'Shippori Mincho', serif;
            margin: 0;
            font-size: 28px;
            font-weight: 700;
        }

        #quiz-body {
            padding: 40px;
        }

        .question-block {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px solid #e0e0e0;
        }
        .question-block:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .question-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .options {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .options li {
            margin-bottom: 15px;
        }

        .options label {
            display: block;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .options label:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }

        .options input[type="radio"] {
            display: none;
        }
        
        .options input[type="radio"]:checked + label {
            background-color: #3a6a8a;
            color: #fff;
            border-color: #1c3d5a;
        }

        #result-area {
            padding: 20px 40px;
        }
        
        .result-item {
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        
        .result-item.correct {
            background-color: #e6f4ea;
            border-left: 5px solid #4caf50;
        }

        .result-item.incorrect {
            background-color: #fbe9e7;
            border-left: 5px solid #f44336;
        }

        .result-item p { margin: 0; }
        .result-item .user-answer { font-style: italic; color: #555;}
        .result-item .explanation { margin-top: 10px; font-size: 14px; color: #333; }

        #score-display {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .button-container {
            text-align: center;
            padding: 30px 40px;
            background-color: #f8f9fa;
        }

        button {
            background-color: #c7a46f;
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        button:hover {
            background-color: #b39362;
            transform: translateY(-2px);
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

    </style>
</head>
<body>

    <div id="quiz-container">
        <div id="quiz-header">
            <h1>Eラーニング：火災現場活動基礎知識</h1>
        </div>
        
        <div id="quiz-body">
            </div>

        <div id="result-area">
            </div>

        <div class="button-container">
            <button id="submit-btn">採点する</button>
            <button id="retry-btn" style="display: none;">再挑戦する</button>
        </div>
    </div>

    <script>
        const quizData = [
            // I. 現場の評価、優先事項、およびサイズアップ（Q1 - Q10）
            { no: "Q1", question: "現場の優先事項として挙げられているもののうち、最も優先順位が高いものはどれか。", options: ["資産保護", "人命救助", "現場の安定化", "ハズマット対応"], answer: "人命救助", explanation: "現場の優先事項は「1. 人命救助 2. 現場の安定化 3. 資産保護」の順で記載されており、人命救助が最も優先される。" },
            { no: "Q2", question: "2013年に近代火災性状について検証結果を報告している主な機関はどれか。", options: ["UL Firefighter Safety/NIST", "FEMA", "OSHA", "NFPA"], answer: "UL Firefighter Safety/NIST", explanation: "2013年、UL Firefighter Safety/NISTと諸外国が近代火災性状について様々な検証結果を報告している。" },
            { no: "Q3", question: "現場に到着した先遣隊が、非常に限られた情報で考慮し、適切な初期評価を行う必要がある要素は何か。", options: ["指揮隊長（IC）の経験値のみ", "多くの指標や要素", "NFPA 1710の基準のみ", "RICチームの編成人数"], answer: "多くの指標や要素", explanation: "先着隊は非常に限られた情報で多くの指標や要素を考慮し、適切な初期評価（サイズアップ）を行ない意思決定を行う必要がある。" },
            { no: "Q4", question: "サイズアップの略語「SLICE RS」が開発された背景として正しいものはどれか。", options: ["従来の戦術に取って代わる新しい方式として", "インシデント管理システム（IMS）の基本原則として", "近代火災性状の研究で開発された", "早期に換気し火災攻撃を支援するため"], answer: "近代火災性状の研究で開発された", explanation: "SLICE RSは、近代火災性状の研究で開発された略語である。" },
            { no: "Q5", question: "SLICE RSの「S – Size up」に続く2番目の手順「L」が示す内容はどれか。", options: ["Locate the fire", "Lay the hose line", "Load the tool", "Limit the personnel"], answer: "Locate the fire", explanation: "SLICE RSの「L」は「Locate the fire（火元の位置）」を指す。" },
            { no: "Q6", question: "SLICE RSの「I」が示す内容はどれか。", options: ["Immediate entry", "Identify and control flow path", "Incident commander", "Inventory control"], answer: "Identify and control flow path", explanation: "SLICE RSの「I」は「Identify and control flow path（換気の制御と認識）」を指す。" },
            { no: "Q7", question: "SLICE RSの「C」が示す内容は何か。", options: ["Command", "Confine", "Cool the reduce thermal hazard", "Communicate"], answer: "Cool the reduce thermal hazard", explanation: "SLICE RSの「C」は「Cool the reduce thermal hazard（熱による危険を減らす）」を指す。" },
            { no: "Q8", question: "従来の戦術的優先事項として知られる「WRECEO VS」の「C」が示す内容はどれか。", options: ["Confinement（封じ込め）", "Cooling（冷却）", "Communication（通信）", "Command（指揮）"], answer: "Confinement（封じ込め）", explanation: "WRECEO VSの「C」は「Confinement（封じ込め）」を指す。" },
            { no: "Q9", question: "WRECEO VSの「V」が示す内容は何か。", options: ["Water", "Ventilation（換気制御）", "Exposures", "Salvage"], answer: "Ventilation（換気制御）", explanation: "WRECEO VSの「V」は「Ventilation（換気制御（ドアコントロール））」を指す。" },
            { no: "Q10", question: "インシデント管理システム（IMS）の基本となる、現場を管理する計画の原則は何か。", options: ["現場制御管理の原則", "陽圧攻撃の原則", "NFA迅速計算の原則", "RIC/IRICの原則"], answer: "現場制御管理の原則", explanation: "インシデント管理システム（IMS）の基本は、現場制御管理の原則を適用して、緊急現場を管理する計画である。" },
            // II. 火災性状と流路（Q11 - Q20）
            { no: "Q11", question: "自立換気が生じていない初期段階の火災が、やがて移行するとされる火災性状は何か。", options: ["燃料制御型火災", "制限換気型火災", "完成段階火災", "構造崩壊型火災"], answer: "制限換気型火災", explanation: "自立換気が生じていない初期段階では、やがて制限換気型火災に移行する。" },
            { no: "Q12", question: "消防隊が強制侵入を試みたり不用意に窓やドアを開放した場合に生じる危険性として挙げられているものはどれか。", options: ["DECON", "R-EBT", "フラッシュオーバー、バックドラフトまたは煙爆発", "ホースアドバンス"], answer: "フラッシュオーバー、バックドラフトまたは煙爆発", explanation: "消防隊が強制侵入を試みたり不用意に窓やドアを開放すると、フラッシュオーバー、バックドラフトまたは煙爆発の危険性がある。" },
            { no: "Q13", question: "区画火災（換気なし）の際の屋内進入前に、ガス層を冷却するために適用すべき放水パターンは何か。", options: ["ソリッド・ストリーム", "ペインティング", "ウイップパターン", "ペンシリングショートバースト"], answer: "ペンシリングショートバースト", explanation: "屋内進入前に放水パターンをペンシリングショートバーストを適用しガス層を冷却する。" },
            { no: "Q14", question: "区画火災（換気あり）において、火が成長段階から完成段階に移行した後の火災性状は何か。", options: ["制限換気型火災", "燃料制御型火災", "構造崩壊領域火災", "低圧領域火災"], answer: "燃料制御型火災", explanation: "区画火災（換気あり）では、火は成長段階から完成段階に移行し燃料制御型火災となる。" },
            { no: "Q15", question: "高温可燃性ガスの性質として正しいものはどれか。", options: ["圧力が低く高温領域へ流れ延焼する", "圧力が低く低温領域へ流れ延焼する", "圧力が高く低温領域へ流れ延焼する", "圧力が高く低圧領域へ流れ延焼する"], answer: "圧力が高く低圧領域へ流れ延焼する", explanation: "高温可燃性ガスは圧力が高く低圧領域へ流れ延焼する。" },
            { no: "Q16", question: "放水準備が整うまでドアコントロールを行うことによって制御できることとして挙げられているものは何か。", options: ["延焼防止と救助活動", "酸素の制御と熱放出率（HRR）の制御", "水損防止と延焼防止", "煙の乱流と双方向流路"], answer: "酸素の制御と熱放出率（HRR）の制御", explanation: "ドアコントロールにより酸素を制御し火災の成長を遅らせ熱放出率（HRR）を制御する事ができる。" },
            { no: "Q17", question: "双方向流路（バイダイレクショナル・フロー）において、火災区画に換気口が形成された際に生じるガスの動きはどれか。", options: ["高温ガスが底部から移動し、低温の空気が上部から吸い込まれる", "高温ガスが上部から移動し、低温の空気が底部から吸い込まれる", "煙または炎が排気口から排気される一方向流路となる", "排出される煙が開口部を遮り乱流となる"], answer: "高温ガスが上部から移動し、低温の空気が底部から吸い込まれる", explanation: "火災区画に換気口が形成されると、高温ガスが上部から移動し、低温の空気が底部から吸い込まれる。" },
            { no: "Q18", question: "煙の流れが遅く滑らかである場合、火災性状について示唆される可能性が高いのはどれか。", options: ["火災は完成段階にあり構造全体に及んでいる", "瞬間的なフラッシュオーバーの兆候がある", "火災は初期段階にあり燃料が制御されている可能性が高い", "構造崩壊が差し迫っている"], answer: "火災は初期段階にあり燃料が制御されている可能性が高い", explanation: "煙の流れが遅く滑らかであれば、火災は初期段階にあり燃料が制御されている可能性が高いことを示している可能性がある。" },
            { no: "Q19", question: "現場を評価してフローパスを特定した後、絶対にしてはいけない放水行為として警告されているものはどれか。", options: ["外部から棒状ストリームを適用する", "排気口となる窓やドアの外側から塞ぐような放水", "屋内から天井に向けてペンシリング放水を行う", "ドアの表面温度を確認してから進入する"], answer: "排気口となる窓やドアの外側から塞ぐような放水", explanation: "外部から冷却を目的とした噴霧パターンやウイップパターンで排気口となる窓やドアの外側から塞ぐような放水は絶対にしてはいけません。" },
            { no: "Q20", question: "小さな開口部から感じる煙の脈動が示すことは何か。", options: ["換気によって制御される限られた酸素供給による圧力の変動", "高温ガスが滑らかに流出している状態", "構造全体が炎上している状態", "火災が燃料制御型にあること"], answer: "換気によって制御される限られた酸素供給による圧力の変動", explanation: "小さな開口部から感じる煙の脈動は、換気によって制御される。これは、限られた酸素供給により圧力に変動があることを示している。" },
            // III. 換気とドアコントロール（Q21 - Q30）
            { no: "Q21", question: "高断熱構造が、初期評価で外部から熱指標を正確に示す可能性はどうか。", options: ["非常に高い", "低い", "常に正確に示す", "TICを使用すれば正確に示す"], answer: "低い", explanation: "高断熱構造は初期評価で外部から熱指標を正確に示す可能性が低い。" },
            { no: "Q22", question: "検索を試みるためにドアを開放する場合に、注意を払う必要があるリスクの確認に役立つツールは何か。", options: ["ホースラインの流量計", "熱検知カメラ（TIC）など", "救助用担架", "PPVファン"], answer: "熱検知カメラ（TIC）など", explanation: "検索を試みるためにドアを開放する場合は、TICなどを使用して区画のリスクに注意を払う必要がある。" },
            { no: "Q23", question: "進入隊が扉を開ける際、待機すべき姿勢として正しいものはどれか。", options: ["扉の正面で直立して待機する", "進入口片側に低い姿勢で待機する", "扉から離れた場所に待機する", "扉の表面温度を確認せず進入する"], answer: "進入口片側に低い姿勢で待機する", explanation: "扉を開ける場合、進入隊が進入口片側に低い姿勢で待機する。" },
            { no: "Q24", question: "戦術ベンチレーションの主な目的は何か。", options: ["防御戦術に移行すること", "外部攻撃による冷却を行うこと", "高温ガス、およびその他の有毒ガスを取り除き消火活動を支援すること", "構造崩壊領域を確立すること"], answer: "高温ガス、およびその他の有毒ガスを取り除き消火活動を支援すること", explanation: "戦術ベンチレーションは、高温ガス、およびその他の有毒ガスを取り除き消火活動を支援するために行われる。" },
            { no: "Q25", question: "戦術ベンチレーションのタイプとして挙げられているもののうち、「強制」に含まれるものはどれか。", options: ["自然、水平、垂直", "PPV/NPV/水流", "自然、PPV、水平", "水平、垂直、自然"], answer: "PPV/NPV/水流", explanation: "戦術ベンチレーションのタイプには、自然、強制（PPV/NPV/水流)、水平、垂直のベンチレーションがある。" },
            { no: "Q26", question: "換気制御の開始が早過ぎる、または遅過ぎる場合、屋内活動にどのような影響を及ぼす可能性があるか。", options: ["屋内活動への影響はない", "換気口の種類に関わらず深刻な影響を及ぼす", "フラッシュオーバーを防止できる", "常にガス冷却効果を高める"], answer: "換気口の種類に関わらず深刻な影響を及ぼす", explanation: "換気口の種類や場所に関わらず、今日制御の開始が早過ぎる、または遅過ぎると屋内活動に深刻な影響を及ぼす。" },
            { no: "Q27", question: "陽圧換気（PPV）を実施する際、屋内の圧力が高くなり“チャーニング“（逆流現象）を引き起こす非常に危険な条件はどれか。", options: ["排気口が吸気口より断面積が大きい", "吸気口と排気口の断面積が同じ", "排気口が吸気口より断面積が小さい", "逆流現象を回避するため排気口を設定しない"], answer: "排気口が吸気口より断面積が小さい", explanation: "PPVでは排気口が吸気口より断面積が小さいと屋内の圧力が高くなり、“チャーニング“逆流現象を引き起こし非常に危険である。" },
            { no: "Q28", question: "陽圧攻撃（PPA）が、陽圧換気（PPV）と対比して定義されている内容はどれか。", options: ["火災後に建物を加圧するために送風機を使用すること", "火災を制御する前にファンを使用して建物を加圧すること", "火災を制御した後、排気を促進すること", "フラッシュオーバー発生時にのみ使用すること"], answer: "火災を制御する前にファンを使用して建物を加圧すること", explanation: "PPAは、火災を制御する前にファンを使用して建物を加圧することとして定義されている。" },
            { no: "Q29", question: "条件が理想的でない場合、PPA（陽圧攻撃）が引き起こす可能性がある悪影響として述べられているものはどれか。", options: ["火災の成長が抑制される", "火災区画内の生存可能領域の急速な減少", "制限換気型火災への移行", "ノズル操作が容易になる"], answer: "火災区画内の生存可能領域の急速な減少", explanation: "条件が理想的でない場合、PPAは火災の急速な発達と火災区画内の生存可能領域の急速な減少につながる可能性がある。" },
            { no: "Q30", question: "NFPA 1407が消防隊に確立することを要求している、文書化された方針の要素は何か。", options: ["ファイヤーグランド除染（DECON）", "即時介入（RIC）訓練", "NFA迅速計算", "LUNAR手順"], answer: "即時介入（RIC）訓練", explanation: "NFPA 1407では、即時介入（ＲＩＣ）訓練の要素を満たすために文書化された方針を確立することを消防隊に要求している。" }
            // 残りのQ31からQ50も同様の形式で追加します。
            // ここでは簡略化のため、最初の30問のみ記載しています。
        ];

        const quizBody = document.getElementById('quiz-body');
        const resultArea = document.getElementById('result-area');
        const submitBtn = document.getElementById('submit-btn');
        const retryBtn = document.getElementById('retry-btn');
        let currentQuestions = [];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function generateQuiz() {
            // 状態をリセット
            quizBody.innerHTML = '';
            resultArea.innerHTML = '';
            submitBtn.style.display = 'block';
            submitBtn.disabled = false;
            retryBtn.style.display = 'none';

            // 質問をシャッフルして5問選ぶ
            const shuffledQuestions = shuffleArray([...quizData]);
            currentQuestions = shuffledQuestions.slice(0, 5);

            // HTMLを生成
            currentQuestions.forEach((q, index) => {
                const questionBlock = document.createElement('div');
                questionBlock.classList.add('question-block');
                
                let optionsHTML = '';
                q.options.forEach((option, i) => {
                    optionsHTML += `
                        <li>
                            <input type="radio" name="question${index}" id="q${index}o${i}" value="${option}">
                            <label for="q${index}o${i}">${String.fromCharCode(65 + i)}. ${option}</label>
                        </li>
                    `;
                });

                questionBlock.innerHTML = `
                    <p class="question-title">問題 ${index + 1}: ${q.question}</p>
                    <ul class="options">${optionsHTML}</ul>
                `;
                quizBody.appendChild(questionBlock);
            });
        }

        function submitQuiz() {
            let score = 0;
            resultArea.innerHTML = '';

            currentQuestions.forEach((q, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const userAnswer = selectedOption ? selectedOption.value : "未回答";
                const isCorrect = userAnswer === q.answer;

                if(isCorrect) {
                    score++;
                }

                const resultItem = document.createElement('div');
                resultItem.classList.add('result-item', isCorrect ? 'correct' : 'incorrect');
                resultItem.innerHTML = `
                    <p><b>問題 ${index + 1}: ${isCorrect ? '正解' : '不正解'}</b></p>
                    <p class="user-answer">あなたの回答: ${userAnswer}</p>
                    ${!isCorrect ? `<p>正解: ${q.answer}</p>` : ''}
                    <p class="explanation"><b>解説:</b> ${q.explanation}</p>
                `;
                resultArea.appendChild(resultItem);
            });

            const scoreDisplay = document.createElement('div');
            scoreDisplay.id = 'score-display';
            scoreDisplay.innerHTML = `結果: ${score} / 5 正解`;
            resultArea.insertBefore(scoreDisplay, resultArea.firstChild);
            
            submitBtn.style.display = 'none';
            retryBtn.style.display = 'block';
            
            // 全てのラジオボタンを無効化
            const allRadios = document.querySelectorAll('input[type="radio"]');
            allRadios.forEach(radio => radio.disabled = true);
        }

        submitBtn.addEventListener('click', () => {
             // すべての問題に回答したかチェック
            const answeredCount = currentQuestions.filter((q, index) => 
                document.querySelector(`input[name="question${index}"]:checked`)
            ).length;

            if (answeredCount < 5) {
                alert('すべての問題に回答してください。');
                return;
            }
            submitQuiz();
        });
        
        retryBtn.addEventListener('click', generateQuiz);

        // 初期クイズ生成
        generateQuiz();
    </script>
</body>
</html>
